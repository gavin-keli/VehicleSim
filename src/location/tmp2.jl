
 




(vᵣ[1]*mag*abs(r[3])*conj(vₙ[1])*(r[3] + conj(r[3])))/jf13b - (sₙ*Δt*sin((Δt*mag)/2)*jf13c)/(4*(r[3]*conj(r[3]))^(1/2)*mag) - (sin((Δt*mag)/2)*conj(vₙ[3]))/mag + (vᵣ[2]*mag*abs(r[3])*conj(vₙ[2])*(r[3] + conj(r[3])))/jf13b + (vᵣ[3]*mag*abs(r[3])*conj(vₙ[3])*(r[3] + conj(r[3])))/jf13b - (r[1]*Δt*sᵣ*abs(r[3])*conj(vₙ[1])*(r[3] + conj(r[3])))/jf13a - (r[2]*Δt*sᵣ*abs(r[3])*conj(vₙ[2])*(r[3] + conj(r[3])))/jf13a - (r[3]*Δt*sᵣ*abs(r[3])*conj(vₙ[3])*(r[3] + conj(r[3])))/jf13a
 

(vₙ[2]*sin((Δt*mag)/2))/mag - (vₙ[1]*Δt*sin((Δt*mag)/2)*jf13c)/(4*(r[3]*conj(r[3]))^(1/2)*mag) - (r[1]*sₙ*sin((Δt*mag)/2)*jf13c)/jf13b + (r[2]*vₙ[3]*sin((Δt*mag)/2)*jf13c)/jf13b - (r[3]*vₙ[2]*sin((Δt*mag)/2)*jf13c)/jf13b + (r[1]*sₙ*Δt*sᵣ*jf13c)/jf13a - (r[2]*vₙ[3]*Δt*sᵣ*jf13c)/jf13a + (r[3]*vₙ[2]*Δt*sᵣ*jf13c)/jf13a
 

(r[3]*vₙ[1]*sin((Δt*mag)/2)*jf13c)/jf13b - (vₙ[2]*Δt*sin((Δt*mag)/2)*jf13c)/(4*(r[3]*conj(r[3]))^(1/2)*mag) - (r[2]*sₙ*sin((Δt*mag)/2)*jf13c)/jf13b - (r[1]*vₙ[3]*sin((Δt*mag)/2)*jf13c)/jf13b - (vₙ[1]*sin((Δt*mag)/2))/mag + (r[2]*sₙ*Δt*sᵣ*jf13c)/jf13a + (r[1]*vₙ[3]*Δt*sᵣ*jf13c)/jf13a - (r[3]*vₙ[1]*Δt*sᵣ*jf13c)/jf13a
 

(sₙ*sin((Δt*mag)/2))/mag - (vₙ[3]*Δt*sin((Δt*mag)/2)*jf13c)/(4*(r[3]*conj(r[3]))^(1/2)*mag) + (r[1]*vₙ[2]*sin((Δt*mag)/2)*jf13c)/jf13b - (r[2]*vₙ[1]*sin((Δt*mag)/2)*jf13c)/jf13b - (r[3]*sₙ*sin((Δt*mag)/2)*jf13c)/jf13b - (r[1]*vₙ[2]*Δt*sᵣ*jf13c)/jf13a + (r[2]*vₙ[1]*Δt*sᵣ*jf13c)/jf13a + (r[3]*sₙ*Δt*sᵣ*jf13c)/jf13a
 
jacobian([means(1),means(2)])
ans =
 
[1, 0, 0, (26*x6)/5 - 6*x4 - 2*x7,   2*x6 - 6*x5 + (26*x7)/5, (26*x4)/5 + 2*x5 + 6*x6, (26*x5)/5 - 2*x4 + 6*x7,                                   0, 0,                                    0,                                                                        0,                                   0,                                                     0]
[0, 1, 0, 2*x4 - (26*x5)/5 - 6*x7, - (26*x4)/5 - 2*x5 - 6*x6, 2*x6 - 6*x5 + (26*x7)/5, (26*x6)/5 - 6*x4 - 2*x7,                                   0, 0,                                    0,                                                                        0,                                   0,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,     562837370183725/562949953421312, 0, -2882116446353145/144115188075855872,                                                                        0,   6303778546057719/9007199254740992,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 1,                                    0, -58153725513336489749168881381185615/83076749736557242056487941267521536,                                   0, -12463937658563373/5192296858534827628530496329220096]
[0, 0, 0,                       0,                         0,                       0,                       0, 2882116446353145/144115188075855872, 0,    9005397922939599/9007199254740992,                                                                        0, 8069926049788807/576460752303423488,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 0,                                    0,                                          562837370183725/562949953421312,                                   0,                  -2882116446353145/144115188075855872]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 0,                                    0,                                                                        0,                                   1,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 0,                                    0,                                      2882116446353145/144115188075855872,                                   0,                     9005397922939599/9007199254740992]
 


ans =
 
[1, 0, 0, (26*x6)/5 - 6*x4 - 2*x7,   2*x6 - 6*x5 + (26*x7)/5, (26*x4)/5 + 2*x5 + 6*x6, (26*x5)/5 - 2*x4 + 6*x7,                                   0, 0,                                    0,                                                                        0,                                   0,                                                     0]
[0, 1, 0, 2*x4 - (26*x5)/5 - 6*x7, - (26*x4)/5 - 2*x5 - 6*x6, 2*x6 - 6*x5 + (26*x7)/5, (26*x6)/5 - 6*x4 - 2*x7,                                   0, 0,                                    0,                                                                        0,                                   0,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,     562837370183725/562949953421312, 0, -2882116446353145/144115188075855872,                                                                        0,   6303778546057719/9007199254740992,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 1,                                    0, -58153725513336489749168881381185615/83076749736557242056487941267521536,                                   0, -12463937658563373/5192296858534827628530496329220096]
[0, 0, 0,                       0,                         0,                       0,                       0, 2882116446353145/144115188075855872, 0,    9005397922939599/9007199254740992,                                                                        0, 8069926049788807/576460752303423488,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 0,                                    0,                                          562837370183725/562949953421312,                                   0,                  -2882116446353145/144115188075855872]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 0,                                    0,                                                                        0,                                   1,                                                     0]
[0, 0, 0,                       0,                         0,                       0,                       0,                                   0, 0,                                    0,                                      2882116446353145/144115188075855872,                                   0,                     9005397922939599/9007199254740992]
 

jacobian([means(1),means(2)], [x(1),x(2),x(3),x(4),x(5),x(6),x(7),x(8),x(9),x(10),x(11),x(12),x(13)])

jacobian([v_imu(1),v_imu(2),v_imu(3),w_imu(1),w_imu(2),w_imu(3)], [x(1),x(2),x(3),x(4),x(5),x(6),x(7),x(8),x(9),x(10),x(11),x(12),x(13)])



[1, 0, 0, (26*x6)/5 - 6*x4 - 2*x7,   2*x6 - 6*x5 + (26*x7)/5, (26*x4)/5 + 2*x5 + 6*x6, (26*x5)/5 - 2*x4 + 6*x7, 0, 0, 0, 0, 0, 0]
[0, 1, 0, 2*x4 - (26*x5)/5 - 6*x7, - (26*x4)/5 - 2*x5 - 6*x6, 2*x6 - 6*x5 + (26*x7)/5, (26*x6)/5 - 6*x4 - 2*x7, 0, 0, 0, 0, 0, 0]

